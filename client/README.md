# 匹克球助手 - 微信小程序

一款专为匹克球爱好者打造的微信小程序，提供赛事发布、报名、计分、排名等全方位功能。

## 功能特性

### 第一阶段核心功能

#### 1. 首页 & 赛事发现
- ✅ 赛事列表展示（按距离、时间排序）
- ✅ 活动分类（比赛、活动、俱乐部）
- ✅ 状态标签（报名中、比赛中、已结束）
- ✅ 距离计算和显示

#### 2. 赛事发布系统
- ✅ 灵活赛制设置（单打、双打、混双）
- ✅ 轮转规则（八人转、五人转、淘汰赛、分组循环）
- ✅ 计分制设置（11分、21分、31分）
- ✅ 报名管理（人数限制、报名费、截止日期）

#### 3. 报名与参与
- ✅ 微信登录（手机号/头像授权）
- ✅ 组队功能（自带搭档/随机匹配）
- ✅ 支付集成（微信支付，支持自动退款）

#### 4. 实时计分与成绩看板
- ✅ 现场计分板（实时录入比分）
- ✅ 实时排名（根据胜场和净胜分自动生成）
- ✅ 晋级图（淘汰赛对阵树状图）

## 项目结构

```
pickball/
├── app.js                 # 小程序逻辑
├── app.json               # 小程序配置
├── app.wxss               # 全局样式
├── project.config.json    # 项目配置
├── sitemap.json          # 站点地图
├── pages/                # 页面目录
│   ├── index/            # 首页（赛事列表）
│   ├── event-detail/     # 赛事详情
│   ├── create-event/     # 发布赛事
│   ├── register/         # 报名页面
│   ├── scoreboard/       # 计分板
│   ├── ranking/          # 排名页面
│   ├── bracket/          # 晋级图
│   └── profile/         # 个人中心
└── utils/                # 工具函数
    └── util.js           # 通用工具函数
```

## 页面说明

### 首页 (pages/index)
- 展示附近的赛事列表
- 支持按分类筛选（全部/比赛/活动/俱乐部）
- 支持按时间/距离排序
- 显示赛事状态、距离、报名人数等信息

### 赛事详情 (pages/event-detail)
- 显示完整的赛事信息
- 查看已报名人员
- 支持报名、进入计分板、查看排名等操作

### 发布赛事 (pages/create-event)
- 完整的赛事发布表单
- 支持设置赛制、轮转规则、计分制
- 报名管理和时间设置

### 报名页面 (pages/register)
- 微信登录授权
- 组队方式选择（自带搭档/随机匹配）
- 支付集成

### 计分板 (pages/scoreboard)
- 实时计分功能
- 比赛列表管理
- 支持添加新比赛

### 排名页面 (pages/ranking)
- 实时排名展示
- 前三名特殊展示
- 统计信息（总比赛数、已完成、进行中）

### 晋级图 (pages/bracket)
- 淘汰赛对阵树状图
- 支持录入比分
- 自动更新下一轮对阵

### 个人中心 (pages/profile)
- 用户信息展示
- 我的活动（已报名、我发布的、历史记录）
- 其他功能入口

## 开发说明

### 环境要求
- 微信开发者工具
- 小程序 AppID（需要在 project.config.json 中配置）

### 配置步骤

1. **配置 AppID**
   - 打开 `project.config.json`
   - 修改 `appid` 字段为你的小程序 AppID

2. **配置服务器域名**
   - 在微信开发者工具中设置服务器域名
   - 目前使用模拟数据，实际开发需要配置后端 API

3. **配置支付**
   - 需要配置微信支付相关参数
   - 在 `pages/register/register.js` 中实现支付逻辑

### 数据说明

目前项目使用模拟数据（Mock Data），实际开发需要：
1. 搭建后端服务器
2. 实现数据库设计
3. 开发 API 接口
4. 集成微信支付
5. 实现用户认证系统

## 待开发功能

- [ ] 后端 API 集成
- [ ] 数据库设计
- [ ] 微信支付完整实现
- [ ] 用户认证系统
- [ ] 消息通知
- [ ] 分享功能
- [ ] 搜索功能
- [ ] 地图定位
- [ ] 图片上传
- [ ] 数据统计

## 技术栈

- 微信小程序原生框架
- JavaScript
- WXML / WXSS

## 注意事项

1. **位置权限**：小程序需要获取用户位置信息来计算距离，需要在 `app.json` 中配置权限
2. **支付功能**：微信支付需要企业认证的小程序，个人开发者无法使用
3. **数据存储**：目前使用 `app.globalData` 临时存储，实际应该使用服务器数据库
4. **图片资源**：需要添加 tabBar 图标（images 目录下的图标文件）

## 许可证

MIT License

## 联系方式

如有问题或建议，欢迎反馈！

