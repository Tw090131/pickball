<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-section card">
    <view class="user-header" wx:if="{{userInfo}}">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-details">
        <text class="nickname">{{userInfo.nickName}}</text>
        <text class="phone" wx:if="{{phoneNumber}}">{{phoneNumber}}</text>
      </view>
    </view>
    <button 
      class="btn-primary login-btn"
      wx:if="{{!userInfo}}"
      open-type="getUserProfile"
      bindgetuserprofile="getUserProfile"
    >
      æˆæƒç™»å½•
    </button>
  </view>

  <!-- æˆ‘çš„æ´»åŠ¨ -->
  <view class="menu-section card">
    <view class="section-title">æˆ‘çš„æ´»åŠ¨</view>
    <view class="menu-item" bindtap="goToMyEvents" data-type="registered">
      <text class="menu-icon">ğŸ“‹</text>
      <text class="menu-text">å·²æŠ¥å</text>
      <text class="menu-badge" wx:if="{{registeredCount > 0}}">{{registeredCount}}</text>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="goToMyEvents" data-type="created">
      <text class="menu-icon">â•</text>
      <text class="menu-text">æˆ‘å‘å¸ƒçš„</text>
      <text class="menu-badge" wx:if="{{createdCount > 0}}">{{createdCount}}</text>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="goToMyEvents" data-type="history">
      <text class="menu-icon">ğŸ“Š</text>
      <text class="menu-text">å†å²è®°å½•</text>
      <text class="menu-arrow">></text>
    </view>
  </view>

  <!-- å…¶ä»–åŠŸèƒ½ -->
  <view class="menu-section card">
    <view class="section-title">å…¶ä»–åŠŸèƒ½</view>
    <view class="menu-item" bindtap="showAbout">
      <text class="menu-icon">â„¹ï¸</text>
      <text class="menu-text">å…³äºæˆ‘ä»¬</text>
      <text class="menu-arrow">></text>
    </view>
    <view class="menu-item" bindtap="showFeedback">
      <text class="menu-icon">ğŸ’¬</text>
      <text class="menu-text">æ„è§åé¦ˆ</text>
      <text class="menu-arrow">></text>
    </view>
  </view>
</view>

